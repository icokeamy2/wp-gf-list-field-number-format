function itsg_gf_list_number_format_init(){var i=itsg_gf_listnumformat_js_settings.number_format_fields;itsg_gf_listnumformat_js_settings.form_id;for(var n in i)if(i.hasOwnProperty(n)){var r=i[n];for(var t in r)if(r.hasOwnProperty(t)){var e=n,o=t,u="string"!==r[o].isNumberFormat?r[o].isNumberFormat:"decimal_dot",_="string"==r[o].isNumberRounding||"norounding"==r[o].isNumberRounding?-1:parseInt(r[o].isNumberRounding),s="string"!==r[o].isNumberRoundingDirection?r[o].isNumberRoundingDirection:"roundclosest",g="string"!==r[o].isNumberFixedPoint?r[o].isNumberFixedPoint:!1,a=jQuery(".gfield_list_"+e+"_cell"+o+" input");if(console.log("list-field-number-format-for-gravity-forms :: field_id: "+e+" field_column: "+o+" isNumberFormat: "+u+" isNumberRounding: "+_+" isNumberFixedPoint: "+g+" isNumberRoundingDirection: "+s),"currency"==u)gformInitListCurrencyFormatFields(a,_,gf_global.gf_currency_config.decimal_separator,gf_global.gf_currency_config.thousand_separator,g,s);else{var l=".",f=",";"decimal_comma"==u&&(l=",",f="."),gformInitListNumberFormatFields(a,_,l,f,g,s)}}}}function gformInitListCurrencyFormatFields(i,n,r,t,e,o){jQuery(i).each(function(){jQuery(this).unbind("change"),jQuery(this).change(function(i){var u=jQuery(this);if(""!=u.val()&&"0"!=u.val()){var _=u.val();console.log("value "+_),(-1==n||n>2)&&(n=2);var s=itsg_clean_number(_,n,r,t,e,o);_=gformFormatMoney(s),_=itsg_force_rounding(_,n,r,t,e,o),u.val(_).trigger("keyup")}})})}function gformInitListNumberFormatFields(i,n,r,t,e,o){jQuery(i).each(function(){jQuery(this).unbind("change"),jQuery(this).change(function(){var i=jQuery(this);if(""!=i.val()&&"0"!=i.val()){var u=i.val(),_=(u.split(r)[1]||[]).length;-1==n&&(n=(u.split(r)[1]||[]).length);var s=itsg_clean_number(u,n,r,t,e,o);u=gformFormatNumber(s,_,r,t),u=itsg_force_rounding(u,n,r,t,e,o),i.val(u).trigger("keyup")}})})}function create_length_number(i,n){return i.length<n+1?create_length_number(i+"0",n):i}function itsg_force_rounding(i,n,r,t,e,o){var u=(i.split(r)[1]||[]).length;if(e&&n>u)for(-1==i.indexOf(r)&&(i+=r);n>u;)i+="0",u=i.substr(i.indexOf(r)+1).length;return-1==n&&(n=(i.split(r)[1]||[]).length),i}function toFixed(i,n){return(+(Math.round(+(i+"e"+n))+"e"+-n)).toFixed(n)}function itsg_clean_number(i,n,r,t,e,o){var i=i.replace(/\$/g,"");if(","==r&&(i=i.replace(/\./g,"").replace(/\,/g,".")),i=i.replace(/\,/g,""),"rounddown"==o)var u=create_length_number("1",n),i=(Math.floor(i*u)/u).toString();else if("roundup"==o)var u=create_length_number("1",n),i=(Math.ceil(i*u)/u).toString();else if("roundclosest"==o)var i=parseFloat(i).toFixed(n).toString();return i}"1"==itsg_gf_listnumformat_js_settings.is_entry_detail?jQuery(document).ready(function(i){itsg_gf_list_number_format_init(),jQuery(".gfield_list").on("click",".add_list_item",function(){itsg_gf_list_number_format_init()}),jQuery(document).bind("gform_post_conditional_logic",function(i,n,r,t){itsg_gf_list_number_format_init()})}):jQuery(document).bind("gform_post_render",function(i){itsg_gf_list_number_format_init(),jQuery(".gfield_list").on("click",".add_list_item",function(){itsg_gf_list_number_format_init()}),jQuery(document).bind("gform_post_conditional_logic",function(i,n,r,t){itsg_gf_list_number_format_init()})});