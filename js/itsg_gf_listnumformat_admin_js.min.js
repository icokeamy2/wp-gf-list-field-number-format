function SetFieldChoiceNumFormat(e){var i=jQuery("#list_choice_number_enable_"+e).is(":checked"),t=jQuery("#list_choice_number_format_"+e).val(),n=jQuery("#list_choice_number_rounding_"+e).val(),_=jQuery("#list_choice_number_fixed_point_"+e).is(":checked"),o=jQuery("#list_choice_number_rounding_direction_"+e).val(),s=jQuery("#list_choice_number_range_min_"+e).val(),l=jQuery("#list_choice_number_range_max_"+e).val();field=GetSelectedField(),field.choices[e].isNumber=i,field.choices[e].isNumberFormat=t,field.choices[e].isNumberRounding=n,field.choices[e].isNumberFixedPoint=_,field.choices[e].isNumberRoundingDirection=o,field.choices[e].isNumberRangeMin=s,field.choices[e].isNumberRangeMax=l,LoadBulkChoices(field),UpdateFieldChoices(GetInputType(field)),itsg_gf_list_numformat_format_preview(),itsg_gf_list_numformat_displayed_options(e)}function itsg_gf_list_numformat_format_preview(){for(var e=0;e<field.choices.length;e++){var i=jQuery("#list_choice_number_enable_"+e).is(":checked");if(1==i){var t="undefined"!=typeof field.choices[e].isNumberFormat?field.choices[e].isNumberFormat:"decimal_dot";if("currency"==t)var n=text_format_currency;else if("decimal_comma"==t)var n=text_format_decimal_comma;else var n=text_format_decimal_dot;var _='<input type="text" disabled="disabled" value="'+n+'">',o=e+1;jQuery("li#field_"+field.id+" table.gfield_list_container tbody tr td:nth-child("+o+")").html(_)}}}function itsg_gf_list_numformat_displayed_options(e){var i=jQuery("#list_choice_number_rounding_"+e),t=jQuery('label[for="list_choice_number_fixed_point_'+e+'"]'),n=jQuery("#list_choice_number_fixed_point_"+e),_=jQuery("#list_choice_number_format_"+e).val();if("currency"==_){t.hide(),t.removeClass("inline"),n.hide();var o=i.find("option:selected").val();(o>2||1==o||"norounding"==o)&&i.val(2),i.find("option").each(function(){var e=jQuery(this),i=jQuery(this).val();(i>2||1==i||"norounding"==i)&&e.hide()})}else t.show(),t.addClass("inline"),n.show(),i.find("option").each(function(){jQuery(this).show()})}function itsg_gf_list_numformat_init(){setTimeout(function(){var e=field.type;if("list"==e)if(field.enableColumns){jQuery(".list_number_settings").hide();for(var i=0;i<field.choices.length;i++){var t=field.choices[i].isNumber;if(1==t){field.choices[i].isNumber?jQuery(".list_choice_number_options_"+i).show():jQuery(".list_choice_number_options_"+i).hide();var t="undefined"!=typeof field.choices[i].isNumber?field.choices[i].isNumber:!1,n="undefined"!=typeof field.choices[i].isNumberFormat?field.choices[i].isNumberFormat:"decimal_dot",_="undefined"!=typeof field.choices[i].isNumberRounding?field.choices[i].isNumberRounding:"norounding",o="undefined"!=typeof field.choices[i].isNumberFixedPoint?field.choices[i].isNumberFixedPoint:!1,s="undefined"!=typeof field.choices[i].isNumberRoundingDirection?field.choices[i].isNumberRoundingDirection:"roundclosest",l="undefined"!=typeof field.choices[i].isNumberRangeMin?field.choices[i].isNumberRangeMin:"",r="undefined"!=typeof field.choices[i].isNumberRangeMax?field.choices[i].isNumberRangeMax:"";jQuery("#field_columns #list_choice_number_enable_"+i).prop("checked",t),jQuery("#field_columns #list_choice_number_format_"+i).val(n),jQuery("#field_columns #list_choice_number_rounding_"+i).val(_),jQuery("#field_columns #list_choice_number_fixed_point_"+i).prop("checked",o),jQuery("#field_columns #list_choice_number_rounding_direction_"+i).val(s),jQuery("#field_columns #list_choice_number_range_min_"+i).val(l),jQuery("#field_columns #list_choice_number_range_max_"+i).val(r),itsg_gf_list_numformat_displayed_options(i)}}}else{jQuery(".list_number_settings").show();var t="undefined"!=typeof field.isNumber?field.isNumber:!1,n="undefined"!=typeof field.isNumberFormat?field.isNumberFormat:"decimal_dot",_="undefined"!=typeof field.isNumberRounding?field.isNumberRounding:"norounding",o="undefined"!=typeof field.isNumberFixedPoint?field.isNumberFixedPoint:!1,s="undefined"!=typeof field.isNumberRoundingDirection?field.isNumberRoundingDirection:"roundclosest",l="undefined"!=typeof field.isNumberRangeMin?field.isNumberRangeMin:"",r="undefined"!=typeof field.isNumberRangeMax?field.isNumberRangeMax:"";jQuery("#field_settings .list_number_settings #list_number_enable").prop("checked",t),jQuery("#field_settings .list_number_settings #list_choice_number_format_single").val(n),jQuery("#field_settings .list_number_settings #list_choice_number_rounding_single").val(_),jQuery("#field_settings .list_number_settings #list_choice_number_fixed_point_single").prop("checked",o),jQuery("#field_settings .list_number_settings #list_choice_number_rounding_single_direction").val(s),jQuery("#field_settings .list_number_settings #list_choice_number_range_min_single").val(l),jQuery("#field_settings .list_number_settings #list_choice_number_range_max_single").val(r),field.isNumber?(jQuery("#list_number_options").show(),itsg_gf_list_numformat_displayed_options("single")):jQuery("#list_number_options").hide()}},50)}var text_number_format=itsg_gf_listnumformat_admin_js_settings.text_number_format,text_enable_number_format=itsg_gf_listnumformat_admin_js_settings.text_enable_number_format,text_currency=itsg_gf_listnumformat_admin_js_settings.text_currency,text_rounding_direction=itsg_gf_listnumformat_admin_js_settings.text_rounding_direction,text_do_not_round=itsg_gf_listnumformat_admin_js_settings.text_do_not_round,text_rounding=itsg_gf_listnumformat_admin_js_settings.text_rounding,text_range=itsg_gf_listnumformat_admin_js_settings.text_range,text_min=itsg_gf_listnumformat_admin_js_settings.text_min,text_max=itsg_gf_listnumformat_admin_js_settings.text_max,text_format_currency=itsg_gf_listnumformat_admin_js_settings.text_format_currency,text_format_decimal_dot=itsg_gf_listnumformat_admin_js_settings.text_format_decimal_dot,text_format_decimal_comma=itsg_gf_listnumformat_admin_js_settings.text_format_decimal_comma,text_fixed_point=itsg_gf_listnumformat_admin_js_settings.text_fixed_point;!function(e){var i=e.GetFieldChoices;e.GetFieldChoices=function(){var e=i.apply(this,[field]);if(void 0==field.choices)return"";for(var t=0;t<field.choices.length;t++){var n=GetInputType(field),_=field.choices[t].isNumber?"checked":"",o=field.choices[t].isNumberFixedPoint?"checked":"",s=field.enableChoiceValue?String(field.choices[t].value):field.choices[t].text;"list"==n&&(0==t&&(e+="<p><strong>"+text_number_format+"</strong></p>"),e+="<div>",e+="<input type='checkbox' name='choice_number_enable' id='list_choice_number_enable_"+t+"' "+_+" onclick='SetFieldChoiceNumFormat( "+t+" );itsg_gf_list_numformat_init();' /> ",e+="<label class='inline' for='list_choice_number_enable_"+t+"'>"+s+" - "+text_enable_number_format+"</label>",e+="<div style='display:none; background: rgb(244, 244, 244) none repeat scroll 0px 0px; padding: 10px; border-bottom: 1px solid grey; margin: 10px 0;' class='list_choice_number_options_"+t+"'>",e+="<div style='clear: both;'>",e+="<label class='section_label' for='list_choice_number_format_"+t+"'>",e+=text_number_format+"</label>",e+="</div>",e+="<select class='choice_number_format' id='list_choice_number_format_"+t+"' onchange='SetFieldChoiceNumFormat( "+t+" );' style='margin-bottom: 10px;' >",e+="<option value='decimal_dot'>9,999.99</option>",e+="<option value='decimal_comma'>9.999,99</option>",e+="<option value='currency'>"+text_currency+"</option>",e+="</select>",e+="<div style='clear: both;'>",e+="<label class='section_label' for='list_choice_number_rounding_"+t+"'>",e+=text_rounding+"</label>",e+="</div>",e+="<select class='choice_number_rounding' id='list_choice_number_rounding_"+t+"' onchange='SetFieldChoiceNumFormat( "+t+" );' style='margin-bottom: 10px;' >",e+="<option value='norounding'>Do not round</option>",e+="<option value='0'>0</option>",e+="<option value='1'>1</option>",e+="<option value='2'>2</option>",e+="<option value='3'>3</option>",e+="<option value='4'>4</option>",e+="<option value='5'>5</option>",e+="</select>",e+="<br>",e+="<input type='checkbox' id='list_choice_number_fixed_point_"+t+"' "+o+" onclick='SetFieldChoiceNumFormat( "+t+" );' /> ",e+="<label class='inline' for='list_choice_number_fixed_point_"+t+"'>"+text_fixed_point+"</label>",e+="<br>",e+="<br>",e+="<div style='clear: both;'>",e+="<label class='section_label' for='list_choice_number_rounding_direction_"+t+"'>",e+=text_rounding_direction+"</label>",e+="</div>",e+="<select class='choice_number_rounding_direction' id='list_choice_number_rounding_direction_"+t+"' onchange='SetFieldChoiceNumFormat( "+t+" ); itsg_gf_list_numformat_init();' style='margin-bottom: 10px;' >",e+="<option value='roundclosest'>Round closest</option>",e+="<option value='roundup'>Round up</option>",e+="<option value='rounddown'>Round down</option>",e+="</select>",e+="<br>",e+="<div style='clear: both;'>",e+="<label class='section_label'>"+text_range+"</label>",e+="</div>",e+="<div class='range_min'>",e+="<input type='text' id='list_choice_number_range_min_"+t+"' onchange='SetFieldChoiceNumFormat( "+t+" );' >",e+="<label for='list_choice_number_range_min_"+t+"'>",e+=text_min+"</label>",e+="</div>",e+="<div class='range_max'>",e+="<input type='text' id='list_choice_number_range_max_"+t+"' onchange='SetFieldChoiceNumFormat( "+t+" );' >",e+="<label for='list_choice_number_range_max_"+t+"'>",e+=text_max+"</label>",e+="</div>",e+="</div>",e+="</div>")}return itsg_gf_list_numformat_init(),e}}(window||{}),jQuery(document).on("change","#gfield_settings_columns_container #field_columns li",function(){itsg_gf_list_numformat_init()}),jQuery(document).on("change","#field_settings input[id=field_columns_enabled]",function(){itsg_gf_list_numformat_init()}),jQuery(document).bind("gform_load_field_settings",function(e,i,t){itsg_gf_list_numformat_init()});